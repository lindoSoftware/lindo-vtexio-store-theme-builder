"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.removeProviderFromId = exports.parseIOMessageId = exports.providerFromMessage = exports.PROVIDER_SPACER = void 0;
exports.PROVIDER_SPACER = '::';
const providerFromMessage = (message) => {
    const { provider } = (0, exports.parseIOMessageId)(message);
    return provider || 'unknown';
};
exports.providerFromMessage = providerFromMessage;
const parseIOMessageId = ({ id }) => {
    const splitted = id.split(exports.PROVIDER_SPACER);
    if (splitted.length === 2) {
        return {
            locator: splitted[1],
            provider: splitted[0],
        };
    }
    return {
        locator: splitted[0],
    };
};
exports.parseIOMessageId = parseIOMessageId;
const removeProviderFromId = (message) => ({
    ...message,
    id: (0, exports.parseIOMessageId)(message).locator,
});
exports.removeProviderFromId = removeProviderFromId;
